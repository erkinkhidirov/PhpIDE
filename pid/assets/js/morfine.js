!function(e){"use strict";e.fn.morfin=function(i,t,a,o){e.extend({options:window.qis_options,"owl-dots":!1},a);var n=[],_=[],d={init:function(){d.fm(),d.onClosePage(),e(".qis_special_offer_section").length,e(".morf_reg_password").length&&d.pass_gen(),d.header_url_parse("")},onClosePage:function(){},pass_gen:function(){d.activateBtn(".gen_pass","pass_gen_handler","click")},pass_gen_handler:function(i){let t=e(".morf_reg_password").find('.morfine_form_input input[name="password"]').val(),a={method_open:"pass_gen_ajax_handler"};a.pass=t,a.morfin_ajax_action="generate_pass",a.qis_this=i,d.morfAjax(a)},header_url_parse:function(i){void 0!==i&&0!==i.length?(e(".morfine_file_manager_path_body_input input").val(i),d.header_url_parse_loop(i)):(i=e(".morfine_file_manager_path_body_input input").val(),d.header_url_parse_loop(i)),d.activateBtn(".header_path_elem a","header_path_hanler","click"),d.activateBtn(".morfine_file_manager_path_body_input","header_path_show_input","click")},setpageTitle:function(i,t=!1){let a=0;if(void 0!==i[a=t||i.length]&&0!==i[a].length)return e("head title").text(i[a]),!1;if(a<=0)return!1;{let e=a-1;d.setpageTitle(i,e)}},header_url_parse_loop:function(i){if(void 0!==i){let t=i.split("/");d.setpageTitle(t);let a="",o="";delete t[0],a+='<div class="header_path_section">';for(let e=1;e<t.length;e++)o+="/"+t[e],0!==t[e].length&&(a+='<div class="header_path_elem" data-path="'+o+'"><a href="#">'+t[e]+"</a></div>");a+="</div>",e(".morfine_file_manager_path_body_input").find(".header_path_section").remove(),e(".morfine_file_manager_path_body_input").append(a)}},header_path_show_input:function(i){e(".morfine_file_manager_path_body_input input").show(),e(".morfine_file_manager_path_body_input .header_path_section").hide(),d.activateBtn("body","header_path_hide_unnessery","click")},header_path_hide_unnessery:function(i){e(".morfine_file_manager_path_body_input input").hide(),e(".morfine_file_manager_path_body_input .header_path_section").show()},header_path_hanler:function(i){let t=e(i).closest(".header_path_elem").data("path");d.fm_dir_open("",t),d.header_url_parse(t)},pass_gen_ajax_handler:function(i){if(void 0!==i&&0!==i.length){i=i.trimStart();try{let t=JSON.parse(i);if(1==Number(t.status)){let i="m_dialog_"+Date.now(),a='<div class="morf_window_content_section morf_gen_password" id="'+i+'"><div class="morf_window_content_block"><p>Copy and paste this Password Hash to index.php file, in to constant "YOUR_PASSWORD" </p><div class="morf_input"><input type="text" value="'+t.message+'" /></div></div></div>';e("body").append(a);let o={id:i,name:"Password Hash",onResize:function(e,i){},minWidth:800,minHeight:300,buttons:[]};d.morf_window(o)}else alert(t.message)}catch(e){alert(e)}}else alert("Error: Empty responce")},dialog:function(i,t){e(i).dialog({close:function(t,a){e(i).dialog("destroy"),e(i).remove()},resize:function(e,i){n[t].resize()},minWidth:600,minHeight:600,buttons:[{text:"Save",icon:"fa-solid fa-floppy-disk",click:function(){d.fm_save_content(t,this)}},{text:"Close",icon:"fa-solid fa-xmark",click:function(){e(this).dialog("close")}}],closeText:"close",title:"Dialog Title"})},preloader:function(){e(".header_preloader").empty(),e(".header_preloader").append('<div class="morf_preloader_section"><div class="lds-ring"><div></div><div></div><div></div><div></div></div></div>')},test:function(){console.log("test")},fm:function(){d.fm_buttons_activate(),d.fm_header_btns()},loading_dots:function(i,t,a){let o=0;void 0!==t&&0!==t.length&&clearInterval(t);let n=setInterval(function(){let t=e(i).closest(".ui-dialog").find(".ui-dialog-buttonset button:first-child .loading_text");3==o?d.loading_dots(i,n,a):(0==o&&t.text(a+" .   "),1==o&&t.text(a+" .. "),2==o&&t.text(a+" ...")),o++},1e3)},preloader_for_save_btn:function(i,t){e(i).closest(".ui-dialog").find(".ui-dialog-buttonset button:first-child").hide();let a='<button class="ui-button ui-corner-all ui-widget morf_disable_btn disable"><div class="morf_btn_preloader_section"><div class="lds-ring"><div></div><div></div><div></div><div></div></div></div><div class="loading_text">'+t+"</div></button>";e(i).closest(".ui-dialog").find(".ui-dialog-buttonset").prepend(a),d.loading_dots(i,"",t)},remove_preloader_for_save_btn:function(){setTimeout(function(){e(".morf_disable_btn").remove(),e(".ui-dialog").find(".ui-dialog-buttonset button:first-child").show()},500)},fm_save_content:function(i,t,a=!1){d.preloader_for_save_btn(t,"Saving");let o=n[i].getValue(),_={};_.path=e(t).data("path"),_.content=o,_.type="file",_.method_open="new"==a?"fm_save_new_content_handler":"fm_save_content_handler",_.morfin_ajax_action="file_save",_.qis_this=t,d.morfAjax(_)},fm_save_content_handler:function(e,i){d.remove_preloader_for_save_btn()},fm_save_new_content_handler:function(i,t){d.fm_server_status_handler(i),d.remove_preloader_for_save_btn(),e(".morf_f_m_h_elem_reload").trigger("click")},fm_buttons_activate:function(){d.activateBtn(".morfine_file_manager_elem_name a","fm_detect_get_dir_or_file","click"),d.activateBtn(".morfine_file_manager_elem_can_button a","fm_chmod_edit","click"),d.activateBtn(".morfine_file_manager_elem_owner_button a","fm_owner_edit","click")},fm_chmod_edit:function(i){let t=e(i).closest(".morfine_file_manager_elem_section").data("path"),a="m_dialog_"+Date.now(),o='<div class="morf_chmod_edit_section" id="'+a+'" data-path="'+t+'"><div class="morf_chmod_edit_block"><div class="m_c_1"> </div><div class="m_c_2"> <span>R</span> </div><div class="m_c_3"> <span>W</span> </div><div class="m_c_4"> <span>X</span> </div><div class="m_c_5"> <span>Owner</span> </div><div class="m_c_6"> <div><input type="checkbox" name="a1" value="400"/></div> </div><div class="m_c_7"> <div><input type="checkbox" name="a2" value="200" /></div> </div><div class="m_c_8"> <div><input type="checkbox" name="a3" value="100" /></div> </div><div class="m_c_9"> <span>Group</span> </div><div class="m_c_10"> <div><input type="checkbox" name="a4" value="040" /></div> </div><div class="m_c_11"> <div><input type="checkbox" name="a5" value="020" /></div> </div><div class="m_c_12"> <div><input type="checkbox" name="a6" value="010" /></div> </div><div class="m_c_13"> <span>Others</span> </div><div class="m_c_14"> <div><input type="checkbox" name="a7" value="004" /></div> </div><div class="m_c_15"> <div><input type="checkbox" name="a8" value="002" /></div> </div><div class="m_c_16"> <div><input type="checkbox" name="a9" value="001" /></div> </div><div class="m_c_17"> <input type="text" name="a10"  /> </div></div></div>';e(".morf_chmod_edit_section").remove(),e("body").append(o);let n={id:a,name:"Permission",onResize:function(e,i){},minWidth:400,minHeight:300,buttons:[{text:"Save",icon:"fa-solid fa-floppy-disk",click:function(){d.chmod_save(this,t)}},{text:"Close",icon:"fa-solid fa-xmark",click:function(){e(this).dialog("close")}}]};d.morf_window(n),d.chmod_edit_detect_choose()},chmod_edit_detect_choose:function(){e('.morf_chmod_edit_block input[type="checkbox"]').on("click",function(){let i=parseInt(e(this).val()),t=0,a=0;t=0===e(".m_c_17 input").val().length?0:parseInt(e(".m_c_17 input").val()),a=e(this).is(":checked")?i+t:t-i,e(".m_c_17 input").val(a)})},chmod_save:function(i,t){let a=e(i).find('input[name="a10"]').val(),o={};o.path=t,o.chmod=a,o.type="file",o.method_open="chmod_save_handler",o.morfin_ajax_action="chmod_edit",d.morfAjax(o)},chmod_save_handler:function(i,t){d.fm_server_status_handler(i),e(".morf_f_m_h_elem_reload").trigger("click")},fm_owner_edit:function(i){let t=e(i).closest(".morfine_file_manager_elem_section").data("path"),a="m_dialog_"+Date.now(),o='<div class="morf_owner_edit_section" id="'+a+'" data-path="'+t+'"><div class="morf_owner_edit_block"><div class="m_o_1"> <div><input type="text" value=""/></div> </div></div>';e(".morf_owner_edit_section").remove(),e("body").append(o);let n={id:a,name:"Change owner",onResize:function(e,i){},minWidth:450,minHeight:300,buttons:[{text:"Save",icon:"fa-solid fa-floppy-disk",click:function(){d.owner_edit_save(this,t)}},{text:"Close",icon:"fa-solid fa-xmark",click:function(){e(this).dialog("close")}}]};d.morf_window(n)},owner_edit_save:function(i,t){let a=e(i).find(".morf_owner_edit_block input").val(),o={};o.path=t,o.owner=a,o.type="file",o.method_open="owner_edit_handler",o.morfin_ajax_action="owner_edit",d.morfAjax(o)},owner_edit_handler:function(e){d.preloader()},fm_editor:function(i,t){e(document).ready(function(){require(["ace/ace"],function(a){var o=a.edit("m_editor_mirror_"+i);"php"==t?o.session.setMode("ace/mode/php"):"js"==t?o.session.setMode("ace/mode/javascript"):"css"==t?o.session.setMode("ace/mode/css"):o.session.setMode("ace/mode/html"),n[i]=o,e("body").hasClass("dark")?o.setTheme("ace/theme/dracula"):o.setTheme("ace/theme/xcode"),o.setShowPrintMargin(!1),o.setOptions({autoScrollEditorIntoView:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,highlightActiveLine:!0,selectionStyle:"line"}),e(".dark_version_elem").unbind("click"),e(".dark_version_elem").on("click",function(){d.dark_version_editor_handler(this,o)})}),d.activateBtn(".m_editor_save","fm_editor_save","click")})},dark_version_editor_handler:function(i,t){e(".dark_version_elem").removeClass("active"),e(i).addClass("active");let a=e(i).data("type");e("body").removeClass("dark"),"dark"==a?(e("body").addClass("dark"),document.cookie="darklight=dark"):document.cookie="darklight=light",e("body").hasClass("dark")?t.setTheme("ace/theme/dracula"):t.setTheme("ace/theme/xcode")},fm_editor_save:function(i){e(i).closest(".m_editor_section").find("#m_editor_mirror").text()},fm_detect_get_dir_or_file:function(i){let t=e(i).parent().data("type");if(e(".morfine_file_manager_elem_section").removeClass("active"),e(i).closest(".morfine_file_manager_elem_section").addClass("active"),"directory"==t){let t=e(i).closest(".morfine_file_manager_elem_section").data("path"),a=e(".morf_f_m_h_elem_prev").data("paths");a.push(t),e(".morf_f_m_h_elem_prev").attr("data-paths","["+a+"]"),e(".morfine_file_manager_section").attr("data-currpath",t),e(".morf_f_m_h_elem_next").attr("data-paths","[]"),d.fm_dir_open(i),d.header_url_parse(t)}else d.fm_file_open(i)},fm_dir_open:function(i,t){d.preloader();let a={};void 0!==t&&0!==t.length?(a.path=t,a.inode="",a.name="",a.type="directory",a.method_open="fm_dir_open_handler",a.morfin_ajax_action="dir_open",d.morfAjax(a)):(a.path=e(i).closest(".morfine_file_manager_elem_section").data("path"),a.inode=e(i).closest(".morfine_file_manager_elem_section").data("inode"),a.name=e(i).text(),a.type="directory",a.method_open="fm_dir_open_handler",a.morfin_ajax_action="dir_open",d.morfAjax(a)),d.header_url_parse(a.path)},fm_dir_open_handler:function(i,t){e(".morfine_file_manager_main_body_section").empty().append(i),d.fm()},fm_file_open:function(i){let t=e(i).closest(".morfine_file_manager_elem_name").data("extension");if("jpeg"==t||"png"==t||"JPG"==t||"svg"==t||"jpg"==t)d.fm_image_open(i);else{let t={};t.path=e(i).closest(".morfine_file_manager_elem_section").data("path"),t.inode=e(i).closest(".morfine_file_manager_elem_section").data("inode"),t.name=e(i).text(),t.type="file",t.method_open="fm_file_open_handler",t.morfin_ajax_action="file_open",t.qis_this=i,d.morfAjax(t)}},fm_image_open:function(i){e(i).closest(".morfine_file_manager_elem_section").data("path");let t=e(i).closest(".morfine_file_manager_elem_section").data("url"),a=e(i).text(),o="m_dialog_"+Date.now(),n='<div class="morf_image_section" id="'+o+'"><div class="morf_image_block"><img src="'+t+'" alt="x"/></div></div>';e("body").append(n);let _={id:o,name:a,onResize:function(e,i){},minWidth:600,minHeight:400,buttons:[]};d.morf_window(_)},fm_file_open_handler:function(i,t){let a=Date.now(),o=e(t).closest(".morfine_file_manager_elem_name").data("extension"),_=e(t).closest(".morfine_file_manager_elem_section").data("path"),r=_.replace(/^.*[\\\/]/,""),l="m_dialog_"+a,s="";s='<div class="m_dialog_section editor" id="'+l+'" data-path="'+_+'"><div class="m_editor_section"><div class="m_editor_block"><div class="m_editor_header"><div class="m_editor_file_path">  </div></div><div class="m_editor_body"><div class="m_editor_mirror" id="m_editor_mirror_'+a+'">'+i+"</div></div></div></div></div>",e("body").append(s),e(document).ready(function(){let i={id:l,name:r.trim(),onResize:function(e,i){n[a].resize()},minWidth:800,minHeight:600,buttons:[{text:"Save",icon:"fa-solid fa-floppy-disk",click:function(){d.fm_save_content(a,this)}},{text:"Close",icon:"fa-solid fa-xmark",click:function(){e(this).dialog("close")}}]};d.morf_window(i),d.fm_editor(a,o)})},fm_header_btns:function(){d.activateBtn(".morf_f_m_h_elem .morf_sub_block ul li a, .morf_f_m_h_elem a,.get_folder_size","fm_header_detect_btn","click"),d.activateBtn(".dark_version_elem","dark_version","click"),d.activateBtn(".m_prev_next_elem","fm_go_to_home_next_prev","click"),d.activateBtn(".morfine_file_manager_path_body_param_elem a","fm_go_to","click"),d.activateBtn(".morfine_file_manager_path_body_param_elem a","fm_go_to","click"),d.fm_check_all()},dark_version:function(i){e(".dark_version_elem").removeClass("active"),e(i).addClass("active");let t=e(i).data("type");e("body").removeClass("dark"),"dark"==t?(e("body").addClass("dark"),document.cookie="darklight=dark"):document.cookie="darklight=light"},fm_check_all:function(){e(".morf_check_all input").prop("checked",!1),e(".morf_check_all input").unbind("click"),e(".morf_check_all input").removeClass("active"),e(".morf_check_all input").on("click",function(i){e(this).hasClass("active")?(e(this).removeClass("active"),e(".morfine_file_manager_elem_count input").prop("checked",!1)):(e(this).addClass("active"),e(".morfine_file_manager_elem_count input").prop("checked",!0))})},fm_go_to:function(i){let t=e(i).data("type"),a=e(".morfine_file_manager_path_body_input input").val();"go"==t&&d.fm_dir_open(i,a)},fm_go_to_home_next_prev:function(i){let t=e(i).data("type");if("home"==t){let t=e(i).data("path");d.fm_dir_open(i,t),e(".morfine_file_manager_path_body_input input").val(t);let a=e(".morf_f_m_h_elem_prev").data("paths");void 0!==a&&0!==a.length&&(a.push(a[a.length-1]),e(".morf_f_m_h_elem_prev").attr("data-paths","["+a+"]")),e(".morf_f_m_h_elem_next").attr("data-paths","[]")}else if("prev"==t){let t=e(".morf_f_m_h_elem_prev").data("paths"),a=t.pop();if(void 0!==a&&0!==a.length){e(".morf_f_m_h_elem_prev").attr("data-paths","["+t+"]");let o=t[t.length-1],n=e(".morf_f_m_h_elem_next").data("paths");if(n.push(a),e(".morf_f_m_h_elem_next").attr("data-paths","["+n+"]"),void 0!==o&&0!==o.length)d.fm_dir_open(i,o),e(".morfine_file_manager_path_body_input input").val(o);else{let t=e(".morf_f_m_h_elem_home").data("path");d.fm_dir_open(i,t),e(".morfine_file_manager_path_body_input input").val(t)}}else{let t=e(".morf_f_m_h_elem_home").data("path");d.fm_dir_open(i,t),e(".morfine_file_manager_path_body_input input").val(t)}}else if("next"==t){let i=e(".morf_f_m_h_elem_next").data("paths"),t=i.pop();if(e(".morf_f_m_h_elem_next").attr("data-paths","["+i+"]"),void 0!==t&&0!==t.length){let i=e(".morf_f_m_h_elem_prev").data("paths");i.push(t),e(".morf_f_m_h_elem_prev").attr("data-paths","["+i+"]"),d.fm_dir_open(morf_sub_block,t),e(".morfine_file_manager_path_body_input input").val(t)}}else if("reload"==t){let t=e(".morfine_file_manager_path_body_input input").val();d.fm_dir_open(i,t)}},fm_header_detect_btn:function(i){let t=e(i).data("param");if(d[t="fm_header_btn_"+t])return d[t](i)},fm_header_btn_get_dir_size_handler:function(i,t){if(void 0!==i&&0!==i.length){let a=JSON.parse(i);if(1==Number(a.status)){let i=a.message;e(t).closest(".morfine_file_manager_elem_file_size").append(i),e(t).closest(".morfine_file_manager_elem_file_size").find(".morf_preloader_section").remove()}}else alert("Error: Empty responce")},fm_header_btn_rename_save:function(i,t){let a=!1,o=d.fm_get_checked_in_list();e("#m_dialog_"+i).find(".morf_ssh_elem").each(function(i){let t=e(this).find("input");if(void 0===t.val()||0===t.val().length)return a=!0,t.addClass("error"),!1;t.removeClass("error")});let n={name:e("#m_dialog_"+i).find('input[name="name"]').val(),path:o,type:"rename",method_open:"file_rename_handler",morfin_ajax_action:"file_rename"};d.morfAjax(n)},file_rename_handler:function(i){d.fm_server_status_handler(i),e(".morf_f_m_h_elem_reload").trigger("click")},fm_header_btn_ssh_next:function(i,t){let a=!1;e("#m_dialog_"+i).find(".morf_ssh_elem").each(function(i){let t=e(this).find("input");if(void 0===t.val()||0===t.val().length)return a=!0,t.addClass("error"),!1;t.removeClass("error")});let o={host:e("#m_dialog_"+i).find('input[name="host"]').val(),port:e("#m_dialog_"+i).find('input[name="port"]').val(),login:e("#m_dialog_"+i).find('input[name="login"]').val(),pass:e("#m_dialog_"+i).find('input[name="pass"]').val(),type:"ssh",method_open:"ssh_command_handler",morfin_ajax_action:"ssh_command"};d.morfAjax(o)},ssh_command_handler:function(e){console.log(e)},fm_unarchive_handler:function(i,t){d.fm_server_status_handler(i),e(".morf_f_m_h_elem_reload").trigger("click")},fm_archive_create:function(i,t){let a="m_dialog_"+i,o=e("#"+a).find(".morf_create_dir_file_name_block input").val(),n=d.fm_get_checked_in_list(),_=e(".morfine_file_manager_path_body_input input").val(),r=e("#"+a).data("type");d.preloader(),d.preloader_for_save_btn(t,"Creating");let l={};l.path=_,l.name=o,l.list=n,l.type=r,l.method_open="fm_archive_handler",l.morfin_ajax_action="archive",d.morfAjax(l)},fm_archive_handler:function(i){d.fm_server_status_handler(i),d.remove_preloader_for_save_btn(),e(".morf_f_m_h_elem_reload").trigger("click")},fm_server_status_handler:function(i){if(void 0!==i&&0!==i.length)try{let t=JSON.parse(i);if(1==Number(t.status)){let i="m_dialog_"+Date.now(),t='<div class="morf_responce_section" id="'+i+'"><div class="morf_responce_block"><div class="m_r_icon"><i class="fa-solid fa-check"></i></div></div></div>';e("body").append(t);let a={id:i,name:"Done",onResize:function(e,i){},minWidth:350,minHeight:200,buttons:[]};d.morf_window(a)}else alert(t.message)}catch(e){alert("Error: Json string is invalid")}else alert("Error: Empty responce")},demo_version_data:function(i){let t="m_dialog_"+Date.now(),a=(e(".morfine_file_manager_path_body_input input").val(),'<div class="morf_demo_version_section" id="'+t+'"><div class="morf_demo_version_section_block"><span>This feature is available for the Pro version of PhpIde</span><a href="https://phpide.io/links/?link=get_pro" target="_blank">Get Pro version <i class="fa-solid fa-arrow-right"></i></a></div></div>');e("body").append(a);let o={id:t,name:i,onResize:function(e,i){},minWidth:500,minHeight:400,buttons:[]};d.morf_window(o)},fm_header_btn_archive:function(e){let i=d.fm_get_checked_in_list();void 0!==i&&0!==i.length?d.demo_version_data("Archive"):alert("Please choose what to archive")},fm_header_btn_get_dir_size:function(e){d.demo_version_data("Folder size")},fm_header_btn_search_words:function(e){d.demo_version_data("Search words")},fm_header_btn_create:function(i){e(".morf_create_section").remove();let t="m_dialog_"+Date.now(),a='<div class="morf_create_section" id="'+t+'"><div class="morf_create_block"><div class="morf_create_elem"><input type="radio" name="x" value="directory"/><div class="morf_create_elem_icon"><i class="fa-solid fa-folder"></i> <span>Directory</span></div></div><div class="morf_create_elem"><input type="radio" name="x" value="file"/><div class="morf_create_elem_icon"><i class="fa-solid fa-file"></i> <span>File</span></div></div></div></div>';e("body").append(a);let o={id:t,name:"Create",onResize:function(e,i){},minWidth:450,minHeight:300,buttons:[{text:"Next",icon:"fa-solid fa-arrow-right",click:function(){d.fm_header_btn_create_detect_dir_or_file(this)}},{text:"Close",icon:"fa-solid fa-xmark",click:function(){e(this).dialog("close")}}]};d.morf_window(o),e("#"+t).find(".morf_create_elem").on("click",function(i){i.preventDefault(),e(".morf_create_elem").removeClass("active"),e(this).addClass("active"),e(this).find("input").prop("checked",!0)})},fm_header_btn_downloadurl:function(e){d.demo_version_data("Download by Url")},fm_header_btn_copy:function(i){let t=d.fm_get_checked_in_list();void 0!==t&&0!==t.length?(_=t,e('.morf_sub_block a[data-param="past"]').removeClass("invisible")):(alert("Please choose what to copy"),e('.morf_sub_block a[data-param="past"]').addClass("invisible"))},fm_header_btn_past:function(i){let t=_;if(void 0!==t&&0!==t.length){e(i).addClass("active"),e(i).find("i").hide(),e(i).prepend('<div class="morf_preloader_section"><div class="lds-ring"><div></div><div></div><div></div><div></div></div></div>');let a=e(".morfine_file_manager_path_body_input input").val(),o={};o.list=t,o.curr_path=a,o.method_open="fm_header_btn_past_handler",o.morfin_ajax_action="file_copy",o.qis_this=i,d.morfAjax(o)}else alert("Please choose what to copy")},fm_header_btn_upload:function(i){let t=e(".morfine_file_manager_path_body_input input").val();e("#morf_upload_section").remove();e("body").append('<div class="morf_upload_section" id="morf_upload_section"><div class="morf_upload_block"><div id="drag-and-drop-zone" class="dm-uploader p-5"><h3 class="mb-5 mt-5 text-muted"><i class="fa-solid fa-arrow-up-from-bracket"></i> Drag &amp; drop files here</h3><div class="btn btn-primary btn-block mb-5"><span>Open the file Browser</span><input type="file" title="Click to add Files"/></div></div></div></div>');d.morf_window({id:"morf_upload_section",name:"Upload",onResize:function(e,i){},minWidth:600,minHeight:400,buttons:[]}),e("#drag-and-drop-zone").dmUploader({url:window.location.href,extraData:{curr_path:t},onInit:function(){console.log("Callback: Plugin initialized")},onUploadSuccess:function(i,t){d.fm_server_status_handler(t),e(".morf_f_m_h_elem_reload").trigger("click")},onBeforeUpload:function(e){d.preloader()}})},fm_header_btn_delete:function(i){let t=d.fm_get_checked_in_list();if(void 0!==t&&0!==t.length){e(i).addClass("active"),e(i).find("i").hide(),e(i).prepend('<div class="morf_preloader_section"><div class="lds-ring"><div></div><div></div><div></div><div></div></div></div>');let a={};a.list=t,a.method_open="fm_header_btn_delete_handler",a.morfin_ajax_action="file_delete",a.qis_this=i,d.morfAjax(a)}else alert("Please choose what to delete")},fm_header_btn_unarchive:function(e){let i=d.fm_get_checked_in_list();void 0!==i&&0!==i.length&&i.length<=1?d.demo_version_data("Unarchive"):alert("Please choose one archive")},fm_header_btn_create_dir_file_dialog:function(i){e("#morf_create_section").dialog("destroy"),e("#morf_create_section").remove(),e(i.id).remove(),e(i.id).dialog("destroy"),e("body").append(i.tpl),e(i.id).dialog({close:function(i,t){e(this).dialog("destroy"),e(this).remove()},minWidth:250,minHeight:300,buttons:[{text:i.text_save,icon:i.save_icon,click:function(){d[i.open_method_after_ckick](this)}},{text:"Close",icon:"fa-solid fa-xmark",click:function(){e(this).dialog("close")}}],closeText:"close",title:i.title})},fm_header_btn_ssh:function(i){let t=Date.now(),a="m_dialog_"+t,o='<div class="morf_window_content_section" id="'+a+'"><div class="morf_window_content_block"><div class="morf_ssh_elem"><div class="morf_ssh_elem_input"><input type="text" name="host" placeholder="Host"/></div></div><div class="morf_ssh_elem"><div class="morf_ssh_elem_input"><input type="text" name="port" placeholder="Port"/></div></div><div class="morf_ssh_elem"><div class="morf_ssh_elem_input"><input type="text" name="login" placeholder="Login"/></div></div><div class="morf_ssh_elem"><div class="morf_ssh_elem_input"><input type="text" name="pass" placeholder="Password"/></div></div></div></div>';e("body").append(o);let n={id:a,name:"SSH",onResize:function(e,i){},minWidth:450,minHeight:400,buttons:[{text:"Connect",icon:"fa-solid fa-angle-right",click:function(){d.fm_header_btn_ssh_next(t,this)}},{text:"Close",icon:"fa-solid fa-xmark",click:function(){e(this).dialog("close")}}]};d.morf_window(n)},fm_header_btn_rename:function(i){let t=Date.now(),a="m_dialog_"+t,o=d.fm_get_checked_in_list();if(void 0!==o&&0!==o.length&&o.length<=1){let i=o[0],n=e('.morfine_file_manager_elem_section[data-path="'+i+'"]').find(".morfine_file_manager_elem_name a").text(),_='<div class="morf_window_content_section" id="'+a+'"><div class="morf_window_content_block"><div class="morf_ssh_elem"><div class="morf_ssh_elem_input"><input type="text" name="name" placeholder="Name" value="'+(n=n.trim())+'"/></div></div></div></div>';e("body").append(_);let r={id:a,name:"Rename",onResize:function(e,i){},minWidth:450,minHeight:400,buttons:[{text:"Rename",icon:"fa-solid fa-angle-right",click:function(){d.fm_header_btn_rename_save(t,this)}},{text:"Close",icon:"fa-solid fa-xmark",click:function(){e(this).dialog("close")}}]};d.morf_window(r)}else alert("Please choose one from list")},fm_search_word:function(i){let t=e(i).closest(".morf_search_words_search_block").find("input").val(),a=e(".morfine_file_manager_path_body_input input").val();e(".morf_search_words_result_block").append('<div class="morf_preloader_section"><div class="lds-ring"><div></div><div></div><div></div><div></div></div></div>');let o={};o.path=a,o.word=t,o.type="file",o.method_open="fm_search_word_handler",o.morfin_ajax_action="search_word",o.qis_this=i,d.morfAjax(o)},fm_search_word_handler:function(i,t){let a=e(t).closest(".morf_search_words_section").attr("id");e("#"+a).find(".morf_search_words_result_block").empty().append(i),e(document).ready(function(){d.activateBtn(".morfine_file_manager_elem_edit a","fm_search_word_edit","click")})},fm_search_word_edit:function(i){let t=e(i).closest(".morfine_file_manager_elem_section").data("path"),a={};a.path=t,a.inode="",a.name=t,a.type="file",a.method_open="fm_file_open_handler",a.morfin_ajax_action="file_open",a.qis_this=i,d.morfAjax(a)},fm_header_btn_downloadurl_handler:function(i){let t=e(".morfine_file_manager_path_body_input input").val(),a=e(i).find(".morf_create_dir_file_name_field input").val();if(void 0!==a&&0!==a.length){d.preloader(),d.preloader_for_save_btn(i,"Downloading");let e={};e.path=t,e.url=a,e.type="file",e.method_open="fm_header_btn_downloadurl_ajax_handler",e.morfin_ajax_action="download_url",d.morfAjax(e)}else alert("Type URL")},fm_header_btn_downloadurl_ajax_handler:function(e){d.fm_server_status_handler(e),d.remove_preloader_for_save_btn()},fm_header_btn_create_detect_dir_or_file:function(i){let t=e(i).find(".morf_create_block").find("input:checked").val();void 0!==t&&("directory"==t?d.fm_header_btn_create_dir():"file"==t&&d.fm_header_btn_create_file())},fm_header_btn_create_file:function(){let i="m_dialog_"+Date.now();e("#"+i).dialog("destroy"),e("#"+i).remove();let t='<div class="morf_create_dir_file_name_section" id="'+i+'"><div class="morf_create_dir_file_name_block"><div class="morf_create_dir_file_name_field"><input type="text" value="" placeholder="Name"/></div></div></div>';e("body").append(t);let a={id:i,name:"Create File",onResize:function(e,i){},minWidth:450,minHeight:300,buttons:[{text:"Next",icon:"fa-solid fa-arrow-right",click:function(){d.fm_header_btn_create_file_handler(this)}},{text:"Close",icon:"fa-solid fa-xmark",click:function(){e(this).dialog("close")}}]};d.morf_window(a)},fm_header_btn_create_dir:function(){let i="m_dialog_"+Date.now();e("#"+i).dialog("destroy"),e("#"+i).remove();let t='<div class="morf_create_dir_file_name_section" id="'+i+'"><div class="morf_create_dir_file_name_block"><div class="morf_create_dir_file_name_field"><input type="text" value="" placeholder="Name"/></div></div></div>';e("body").append(t);let a={id:i,name:"Create Directory",onResize:function(e,i){},minWidth:450,minHeight:300,buttons:[{text:"Save",icon:"fa-solid fa-floppy-disk",click:function(){d.fm_header_btn_create_dir_handler(this)}},{text:"Close",icon:"fa-solid fa-xmark",click:function(){e(this).dialog("close")}}]};d.morf_window(a)},fm_header_btn_create_file_handler:function(i){let t=e(i).find(".morf_create_dir_file_name_field input").val(),a=e(".morfine_file_manager_section").data("currpath")+"/"+t,o=t.substr(t.lastIndexOf(".")+1),n=Date.now(),_="m_dialog_"+n,r="";r='<div class="m_dialog_section editor" id="'+_+'" data-path="'+a+'"><div class="m_editor_section"><div class="m_editor_block"><div class="m_editor_header"><div class="m_editor_file_path">  </div></div><div class="m_editor_body"><div class="m_editor_mirror" id="m_editor_mirror_'+n+'"></div></div></div></div></div>',e("body").append(r),e(document).ready(function(){let i={id:_,name:t,onResize:function(e,i){},minWidth:600,minHeight:600,buttons:[{text:"Save",icon:"fa-solid fa-floppy-disk",click:function(){d.fm_save_content(n,this,"new")}},{text:"Close",icon:"fa-solid fa-xmark",click:function(){e(this).dialog("close")}}]};d.morf_window(i),d.fm_editor(n,o)})},fm_header_btn_create_dir_handler:function(i){let t=e(i).find(".morf_create_dir_file_name_field input").val();e(document).ready(function(){let i=e(".morfine_file_manager_path_body_input input").val();console.log(i);let a={};a.path=i,a.name=t,a.type="directory",a.method_open="fm_header_btn_create_dir_ajax_handler",a.morfin_ajax_action="create_dir",d.morfAjax(a)})},fm_header_btn_create_dir_ajax_handler:function(i){d.fm_server_status_handler(i),e(".morf_f_m_h_elem_reload").trigger("click")},fm_header_btn_past_handler:function(i,t){e(t).removeClass("active"),e(t).find("i").show(),e(t).find(".morf_preloader_section").remove(),_=[],e('.morf_sub_block a[data-param="past"]').addClass("invisible"),d.fm_server_status_handler(i),e('.m_prev_next_elem[data-type="reload"]').trigger("click")},fm_header_btn_delete_handler:function(i,t){e(t).removeClass("active"),e(t).find("i").show(),e(t).find(".morf_preloader_section").remove(),console.log(i),d.fm_server_status_handler(i),e('.m_prev_next_elem[data-type="reload"]').trigger("click")},fm_get_checked_in_list:function(){let i=[];return e(".morfine_file_manager_elem_section").each(function(){let t=e(this).find(".morfine_file_manager_elem_count input"),a=e(this).data("path");t.is(":checked")&&i.push(a)}),i},morf_window:function(i){e("#"+i.id).append('<div class="morf_preloader_section"><div class="lds-ring"><div></div><div></div><div></div><div></div></div></div>');let t=i.name.trim();e("#"+i.id).dialog({dialogClass:"animate__animated animate__faster animate__fadeIn",create:function(a,o){let n=e(this).dialog("widget");e(this).dialog("widget").addClass(i.id),e(".ui-dialog-titlebar",n).append('<div class="morf_w_name_section"><input name="" value="'+t+'" /></div>'),e(".ui-dialog-titlebar",n).append('<div class="morf_w_controll_section"></div>'),e(".ui-dialog-titlebar-close",n).remove(),e(".ui-dialog-title",n).remove(),e(".ui-dialog-titlebar .morf_w_controll_section",n).append('<button class="morf_w_hide"><i class="fa-solid fa-minus"></i></button>'),e(".ui-dialog-titlebar .morf_w_controll_section",n).append('<button class="morf_w_full_screen"><i class="fa-solid fa-compress"></i></button>'),e(".ui-dialog-titlebar .morf_w_controll_section",n).append('<button class="morf_w_close"><i class="fa-solid fa-xmark"></i></button>')},close:function(t,a){e("#"+i.id).dialog("destroy"),e("#"+i.id).remove()},resize:i.onResize,minWidth:i.minWidth,minHeight:i.minHeight,buttons:i.buttons,position:{my:"center",at:"center",of:".morfine_file_manager_block"}}),setTimeout(function(){e("html, body").animate({scrollTop:e("#"+i.id).offset().top-100},1e3)},300),d.dialogBtn("."+i.id+" .morf_w_controll_section .morf_w_close","dialogClose","click",i.id),d.dialogBtn("."+i.id+" .morf_w_controll_section .morf_w_full_screen","dialogFullScreen","click",i.id),d.dialogBtn("."+i.id+" .morf_w_controll_section .morf_w_hide","dialogHide","click",i.id),setTimeout(function(){e("#"+i.id).find(".morf_preloader_section").remove()},300)},dialogClose:function(i,t){e(".morfine_file_manager_elem_section").removeClass("active"),e('.morf_h_e[data-id="'+t+'"]').remove(),e("#"+t).dialog("destroy"),e("#"+t).remove()},dialogFullScreen:function(i,t){let a=0,o=0;e(i).hasClass("active")?(e(i).removeClass("active"),a=600,o=600):(e(i).addClass("active"),a=e(window).height(),o=e(window).width()),e("#"+t).dialog({width:o,height:a,draggable:!0,resizable:!0})},dialogHide:function(i,t){if(e("."+t).hide(),0==e('.morf_h_e[data-id="'+t+'"]').length){let a='<div class="morf_h_e morf_hiden_elem_section"  data-id="'+t+'"><div class="morf_hiden_elem_block"><div class="morf_hiden_elem_name">'+e(i).closest(".ui-dialog-titlebar").find(".morf_w_name_section input").val()+'</div><a href="#" class="morf_h_close"><i class="fa-solid fa-xmark"></i></a></div></div>';e(".morf_hidden_element_block").append(a),d.activateBtn(".morf_h_close","closeHidden","click"),d.activateBtn(".morf_hiden_elem_block","openHidden","click")}},openHidden:function(i){let t=e(i).closest(".morf_hiden_elem_section").data("id");e("."+t).show(),setTimeout(function(){e("html, body").animate({scrollTop:e("#"+t).offset().top-100},1e3)},300)},closeHidden:function(i){let t=e(i).closest(".morf_hiden_elem_section").data("id");e(i).closest(".morf_hiden_elem_section").remove(),e("."+t).remove(),e("#"+t).remove()},dialogBtn:function(i,t,a,o){e(i).unbind(a),d.dialogBtnHandler(i,t,o)},dialogBtnHandler:function(i,t,a,o,n,_,r){e(i).on("click",function(i){i.preventDefault();var o=e(this);d[t]&&d[t](o,a),i.stopPropagation()})},activateBtn:function(i,t,a){e(i).unbind(a),d.buttonsHandler(i,t)},buttonsHandler:function(i,t,a,o,n,_,r){e(i).on("click",function(i){i.preventDefault(),e(".morfine_file_manager_path_body_input input").hide(),e(".morfine_file_manager_path_body_input .header_path_section").show();var a=e(this);d[t]&&d[t](a),i.stopPropagation()})},morfAjax:function(i){var t="";void 0!==i.qis_this&&(t=i.qis_this,i.qis_this=""),e.ajax({url:window.location.href,data:i,type:"POST",beforeSend:function(){},success:function(a){if(setTimeout(function(){e(".header_preloader").empty()},300),d[i.method_open])return d[i.method_open](a,t)},error:function(i){setTimeout(function(){e(".header_preloader").empty()},300)}})}};return d[i]?t?d[i].apply(this,t):d[i].apply(this):"object"!=typeof i&&i?void e.error("Метод с именем "+i+" не существует для jQuery.tooltip"):d.init.apply(this,arguments)}}(jQuery);